---
layout: default
title: DB 구조와 성능
parent: SQLD
nav_order: 9
---

# DB 구조와 성능

---

## 슈퍼/서브타입 데이터 모델의 개요

- Extended ER모델이라고 불린다.
- 업무를 구성하는 데이터의 특징을 공통점/차이점을 고려하여 효과적으로 표현할 수 있다.
- 공통 부분을 슈퍼타입으로 모델링하고 차이가 있는 속성을 별도의 서브엔터티로 구분한다.
- 물리 모델링 단계이서 선택의 폭이 넓다.
- 물리 모델링 단계에서 One to One Type, Plus Type, Single Type으로 변환할 수 있다.

## 슈퍼/서브타입 데이터 모델의 변환 방법

#### One to One Type

- 슈퍼타입과 서브타입 각각에 업무 트랜잭션이 독립적으로 발생하는 경우 사용한다.
- 개별 트랜잭션에 맞게 테이블을 생성하여 I/O를 줄인다.
- 테이블의 수가 많아서 조인이 많이 발생하는 경우 관리가 어렵다.
- 트랜잭션은 서브타입 개별로 처리하는데, 테이블을 하나로 통합하면 많은 양의 데이터가 직접되어 성능이 저하된다.

#### Plus Type

- 슈퍼타입과 서브타입을 묶어서 트랜잭션이 발생하는 경우 플러스타입으로 변환한다.
- 슈퍼타입을 각 서브타입에 필요한 속성만 통합하여 I/O를 줄일 수 있다.
- 조인이 많이 발생하고 서브타입이 많은 경우 관리가 어렵다.
- 슈퍼타입과 서브타입을 함께 처리하는데 개별로 유지하면 조인에 의해 성능이 저하된다.

#### Single Type

- 전체를 하나의 테이블로 변환한다.
- 관리가 용이하다.
- 조인이 줄어 성능이 향상된다.
- 다수의 속성을 하나의 테이블에 저장하기 때문에 I/O성능이 좋지 않다.
- 서브 타입 간에 조인이 다수 발생할 수 있어 서브 타입이 다수인 경우 관리하기가 어렵다.

## 인덱스 특성을 고려한 PK/FK 데이터베이스 성능향상

#### 기본키

- 인덱스와 기본키 컬럼 순서를 고려해야 한다.
- 기본키 제약조건을 구현하기 위해 유니크 인텍스를 사용한다.
- Random Access를 위해 인덱스를 사용하면 데이터 조회 성능이 향상된다.
- 복합 컬럼으로 구성된 기본키에서 등치조건이나 범위조건을 사용하는 컬럼을 선행 컬럼으로 정해야 인덱스의 효율적 관리가 가능하다.
- 기본키 컬럼 순서를 조정하지 않으면 데이터 조회 성능이 저하될 수 있다.

#### 외래키

- 인덱스와 업무적 활용도를 고려해야 한다.
- 외래키 속성에 대한 인덱스를 생성하지 않으면 데이터 조회 성능이 저하될 수 있다.
- 외래키 속성에 기본정책으로 인덱스를 생성하고 업무적으로 자주 활용되지 않는 경우에 인덱스 삭제를 고려한다.
