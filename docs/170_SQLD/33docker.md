---
layout: default
title: Docker
parent: SQLD
nav_order: 33
---

# Docker

# Docker를 사용하는 이유: 컨테이너 방식의 장점

## 의존성 충돌 문제를 해결해준다.

- 프로세스: 특정 컨테이너에서 작동하는 프로세스는 기본적으로 그 컨테이너 안에서만 접근가능하다. 컨테이너 안에서 실행되는 프로세스는 다른 컨테이너의 프로세스에 영향을 줄 수 없다.
- 네트워크: 컨테이너 하나에 IP주소가 할당되어 있다.
- 파일 시스템: 컨테이너 안에서 사용되는 파일 시스템은 구획화되어 있다. 해당 컨테이너에서 명령이나 파일 등의 접근을 제한할 수 있다.

## 개발과 배포 환경을 일치시킨다.

- 도커가 실행중이라면 운영체제에 상관없이 즉시 PostgreSQL을 설치하고 실행할 수 있다.
- 도커를 사용하면 OS에 상관없이 즉시 어플리케이션 실행이 가능하다.
- 모든 개발팀이 동일한 환경에서 개발을 진행할 수 있다.

## 수평 확장 및 새로운 서버 배포가 용이하다.

- 서비스 제공자는 트래픽 분산을 위해 프록시 서버를 운영하며, 프록시 서버는 여러 대의 동일한 검색 서버 중 한 군데를 이용할 수 있도록 돕습니다. 이러한 서버를 리버스 프록시의 한 종류인 '로드 밸런서'라고 부른다.
- 동일한 어플리케이션 구성(이미지)를 바탕으로 새로운 서버에 해당 어플리케이션을 컨테이너로 실행하고, 로드 밸런서에 이 서버를 추가하면 서버가 증설된다.

# Docker

## 핵심키워드

- 컨테이너: 애플리케이션 의존성, 네트워크 환경, 파일 시스템에 구애받지 않고 도커라는 기술 위에 실행될 수 있도록 만든 어플리케이션 상자다.
- 이미지: 컨테이너는 이미지로부터 생성된다. 이미지를 이용해 여러 개의 컨테이너를 생성할 수 있다. 이를 통해 어플리케이션의 수평적 확장이 가능하다.
- 레지스트리: 이미지는 레지스트리에 저장된다. 도커 CLI에서 이미지를 이용해 컨테이너를 생성할 때 호스트 컴퓨터에 이미지가 존재하지 않으면 기본 레지스트리부터 다운로드하게 된다.

## Docker

- 도커는 리눅스 컨테이너 기술을 기반으로 하는 오픈 소스 서비스다.
- 어플리케이션 실행환경을 코드로 작성할 수 있고, OS를 격리화하여 관리할 수 있다.

## 리눅스 컨테이너

- 필요한 라이브러리와 어플리케이션 모아서 별도의 서비스를 구성한 것이다.
- 컨테이너를 이루는 네트워크 설정, 환경 변수 등의 시스템 자원은 각 컨테이너가 독립적으로 소유한다.
- 프로세스 구획화: 컨테이너에서 작동하는 프로세스는 그 컨테이너 안에서만 액세스할 수 있다. 다른 컨테이너의 프로세스에 영향을 줄 수 없다.
- 네트워크 구획화: 컨테이너 하나에 IP주소가 할당된다.
- 파일 시스템의 구획화: 컨테이너 안에서 사용되는 파일 시스템은 구획화되어 있다. 컨테이너에서의 명령이나 파일 등의 접근을 제한할 수 있다.

## 도커로 어떤 문제를 해결할 수 있는가?

- 환경 표준화: 운영체제가 다르면 환경에 따라 변경해야 하는 부분이 있다. 수작업으로 환경을 일치시키는 것은 시간이 많이 걸리는 어려운 작업이다. 도커를 사용하면 환경의 표준화가 가능하다.
- 리소스 격리: 하나의 컴퓨터를 여러대의 컴퓨터 처럼 사용하는 것을 리소스 격리라고 한다. 가상머신, 도커 등을 통해 가능하다.

## 도커와 가상머신의 차이

- 도커는 가상 머신만큼 견고한 격리성을 제공하지 않는다.
- 도커는 리눅스 컨테이너를 사용한 기술로 OS위에 OS를 실행하는 것이 아니므로 가상머신보다 성능이 좋다.
- 도커는 컨테이너 관점에서 개발자와 사용자 커뮤니티를 중심으로 혜택을 제공하나 가상머신은 어플리케이션에 대한 환경 격리성을 중시한다.

# Docker CLI

## docker/whalesay:latest

- Registry_Account/Repository_Name : Tag
- 레지스트리: Docker Hub(https://hub.docker.com/)와 같이 도커 이미지를 관리하는 공간이다. 특별한 지정이 없으면 도커 허브를 기본 레지스트리로 설정한다.
- 레포지토리: 도커 이미지가 저장되는 공간이다. 이미지 이름이 사용된다.
- 태그: 해당 이미지 설명하는 버전 정보를 입력한다. 특별한 지정이 없으면 latest를 기본 태그로 설정한다.
