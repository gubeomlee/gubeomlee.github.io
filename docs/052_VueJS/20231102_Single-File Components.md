---
layout: default
title: Single-File Components
parent: VueJS
nav_order: 6
---

# Single-File Components

---

## Single-File Components

#### Component

- 재사용 가능한 코드 블록이다. 웹 서비스는 여러 개의 Component로 이루어져 있다.
- UI를 독립적이고 재사용 가능한 일부분으로 분할하고 각 부분을 개별적으로 다룬다. 앱은 중첩된 Component의 트리로 구성된다.

#### Single-File Components (SFC)

- 컴포넌트의 템플릿, 로직 및 스타일을 하나의 파일로 묶어낸 특수한 파일 형식이다.
- Vue SFC는 HTML, CSS, JavaScript 3개를 하나로 합친 것이다.
- \<template>, \<script>, \<style> 블록은 하나의 파일에서 컴포넌트 뷰, 로직, 스타일을 캡슐화하고 배치한다.
- \*.vue 파일은 세 가지 유형의 최상위 언어 블록 \<template>, \<script>, \<style> 으로 구성된다.
- 언어 블록은 일반적으로 template -> script -> style 순서로 작성한다.
- \<template>: 하나만 가능하다.
- \<script>: \<script setup> 블록은 하나만 가능하다. 컴포넌트의 setup() 함수로 사용되며 컴포넌트의 각 인스턴스에 대해 실행한다.
- \<style>: scoped가 지정되면 CSS는 현재 컴포넌트에만 적용된다.

## SFC build tool(Vite)

- 개발 환경을 위한 빌드 도구와 개발 서버를 제공한다.

#### node.js

- 기존에 브라우저 안에서만 동작할 수 있었던 JavaScript를 브라우저 아닌 서버 측에서도 실행할 수 있게 한다. => 프론트엔드와 백엔드를 동일한 언어로 개발할 수 있게 됨.
- NPM을 활용해 수많은 오픈 소스 패키지와 라이브러리를 제공하여 개발자들이 손쉽게 코드를 공유하고 재사용할 수 있게 되었다.

#### Vite 프로젝트 구조

- node_modules: Node.js 프로젝트에서 사용되는 외부 패키지들이 저장되는 디렉토리다. 프로젝트의 의존성 모율을 저장하고 관리하는 공간이다. 프로젝트가 실행될 때 필요한 라이브러리와 패키지들을 포함한다. .gitignore에 작성된다.
- package-lock.json: 패키지들의 실제 설치 버전, 의존성 관계, 하위 패키지 등을 포함하여 패키지 설치에 필요한 모든 정보를 포함한다. 패키지들의 정확한 버전을 보장하여, 여러 개발자가 협업하거나 서버 환경에서 일관성 있는 의존성을 유지하는데 도움을 준다. npm install 명령을 통해 패키지를 설치할 때 명시된 버전과 의존성을 기반으로 설치한다.
- package.json: 프로젝트의 메타 정보와 의존성 패키지 목록을 포함한다. 프로젝트의 이름, 버전, 작성자, 라이선스 등과 같은 메타 정보를 정의한다. package-lock.json과 함께 프로젝트의 의존성을 관리하고, 버전 충돌 및 일관성을 유지하는 역할은 한다.
- public 디렉토리: 정적파일(소스코드에 참조되지 않거나 항상 같은 이름을 갖거나 import할 필요 없는)을 저장한다. 항상 root 절대 경로를 사용하여 참조한다.
- src 디렉토리: 프로젝트의 주요 소스 코드를 포함한다. 컴포넌트, 스타일, 라우팅 등 프로젝트의 핵심 코드를 관리한다.
- src/assets: 프로젝트 내에서 사용되는 자원(이미지, 폰트, 스타일 시트 등)을 관리한다. 컴포넌트 자체에서 참조하는 내부 파일을 저장하는 데 사용한다. 컴포턴트가 아닌 곳에서 public 디렉토리에 위치한 파일을 사용한다.
- src/components: Vue 컴포넌트를 작성하는 곳이다.
- src/App.vue: Vue 앱의 최상위 Root 컴포넌트다. 다른 하위 컴포넌트들을 포함한다. 어플리케이션 전체의 레이아웃과 공통적인 요소를 정의한다.
- src/main.js: Vue 인스턴스를 생성하고, 어플리케이션을 초기화하는 역할을 한다. 필요한 라이브러리를 import하고 전역 설정을 수행한다.
- index.html: Vue 앱의 기본 HTML파일이다. 앱의 진입점(entry point)이다. Root 컴포넌트인 App.vue가 해당 페이지에 마운트 된다. 필요한 스타일 시트, 스크립트 등의 외부 리소스를 로드할 수 있다.

#### Module

- 프로그램을 구성하는 독립적인 코드 블록이다.
- 개발하는 어플리케이션의 크기가 커지고 복잡해지면서 파일 하나에 모든 기능을 담기가 어려워졌다. 따라서 자연스럽게 파일을 여러 개로 분리하여 관리를 하게 되었고, 이때 분리된 파일 각각이 모율(module)이다. js파일 하나가 하나의 모듈이다.
- 모듈의 수가 많아지고 라이브러리 혹은 모듈 간 의존성(연결성)이 깊어지면서 특정한 곳에서 발생한 문제가 어떤 모듈 간의 문제인지 파악하기 어려워졌다.
- 복잡하고 깊은 모듈의 의존성 문제를 해결하기 위한 도구가 필요하다. => Bundler

#### Bundler

- 여러 모듈과 파일을 하나(혹은 여러 개)의 번들로 묶어 최적화 하여 어플리케이션에서 사용할 수 있게 만들어주는 도구다.
- 의존성 관리, 코드 최적화, 리소스 관리에 쓰인다.
- Bundler가 하는 작업을 Bundling이라 한다.
- Vite는 Rollup 이라는 Bundler를 사용하며 개발자가 별도로 기타 환경설정에 신경 쓰지 않도록 모두 설정해두고 있다.

## Vue Component

#### 컴포넌트 등록

- App(부모) -> MyComponent(자식) 관계 형성

## 참고

#### Virtual DOM

- 가상의 DOM을 메모리에 저장하고 실제 DOM과 동기화하는 프로그래밍 개념이다.
- 실제 DOM과의 변경 사항 비교를 통해 변경된 부분만 실제 DOM에 적용하는 방식이다.
- 웹 어플리케이션의 성능을 향상시키기 위한 Vue의 내부 렌더링 기술이다.
- 효율성: 실제 DOM 조작을 최소화 하고, 변경된 부분만 업데이트하여 성능을 향상시킨다.
- 반응성: 데이터의 변경을 감지하고, Virtual DOM을 효율적으로 갱신하여 UI를 자동으로 업데이트 한다.
- 추상화: 개발자는 실제 DOM 조작을 Vue에게 맡기고 컴포넌트와 템플릿을 활용하는 추상화된 방식으로 원하는 UI구조를 구성하고 관리할 수 있다.
- 실제 DOM에 직접 접근하지 말 것: JavaScript에서 사용하는 DOM 접근 관련 메서드 사용금지. querySelector, createElement, addEventListener 등. Vue의 ref와 Lifecycle Hooks 함수를 사용해 간접적으로 접근하여 조작해야 한다.
- 직접 DOM 엘리먼트에 접근해야 하는 경우: ref 속성을 사용하여 특정 DOM 엘리먼트에 직접적인 참조를 얻을 수 있다.

#### API 스타일

- Composition API: import 해서 가져운 API 함수들을 사용하여 컴포넌트의 로직을 정의한다. Vue3에서 권장하는 방식이다. 규모가 있는 앱의 전체를 구축하는 경우 사용한다.
- Option API: data, methods, mounted 같은 객체를 사용하여 컴포넌트의 로직을 정의한다. Vue2에서 사용하던 방식이다. 빌드 도구를 사용하지 않거나 복잡성이 낮은 프로젝트에서 사용한다.

#### Scaffolding(스캐폴딩)

- 새로운 프로젝트나 모듈을 시작하기 위해 초기 구조와 기본 코드를 자동으로 생성하는 과정이다.
- 개발자들이 프로젝트를 시작하는 데 도움을 주는 틀이나 기반을 제공하는 작업이다.
- 초기 설정, 폴더 구조, 파일 템플릿, 기본 코드 등을 자동으로 생성하여 개발자가 시작할 때 시간과 노력을 절약하고 일관된 구조를 유지할 수 있도록 도와 준다.

#### SFC의 CSS 기능: scoped

- scoped를 사용하면 부모 컴포넌트의 스트일이 자식 컴포넌트로 유출되지 않는다.
- 단, 자식 컴포넌트의 최상위 요소(root element)는 부모와 자식의 CSS 모두의 영향을 받는다.
- 부모가 레이아웃 목적으로 자식 컴포넌트 최상위 요소의 스타일을 지정할 수 있도록 의조적으로 설계된 것이다.

#### 컴포넌트 작성

- 모든 컴포넌트 최사단 HTML요소가 작성된느 것이 권장된다.
- Single Root Element: 가독성, 스타일링, 명확한 컴포넌트 구조를 위해 각 컴포넌트에는 최 상단 HTML 요소를 작성해야 한다.
