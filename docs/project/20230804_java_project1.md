---
layout: default
title: 영상정보 관리시스템 구축
parent: Project
nav_order: 20
---

# Java 관통 프로젝트 1: 영상정보 관리시스템 구축

# 프로젝트 목표

- 객체지향 개념과 JAVA 프로그램의 기본 구조를 이해하고 활용할 수 있다.
- Collection, IO API를 이용하여 데이터를 관리하는 프로그램을 작성할 수 있다.
- JSON 데이터를 이용하여 프로그램에 적용할 수 있다.
- MVC 구조를 이해하고 프로그램을 이해할 수 있다.

# 요구사항

- 기본기능: JSON 형식으로 제공되는 영상 데이터 파일을 파싱처리한 후 영상정보 제공 및 선택한 영상에 대한 리뷰 등록, 조회하는 프로그램을 구현한다.
- 추가기능: 회원가입, 회원정보 조회 기능을 구현한다. 프로그램 종료 시 회원 정보 저장하고, 시작 시 회원 정보를 로딩한다.
- 심화기능: 로그인, 로그아웃 기능을 구현한다.

# 기간 및 인원

- 기간: 2023.08.04(금)\_1일
- 인원: 2인

# 프로젝트 진행

- 첫번째 JAVA 관통 프로젝트는 2인 1조로 이루어졌다. 프로젝트 시작에 앞서 팀원과 프로젝트 전략을 수립했다. 첫번째 작업은 MVC(Model View Controller) 구조 파악이었다. 프로젝트 요구사항을 충족하기 위해 우리는 기능을 4가지로 나눠 패키지를 만들었다. 4가지 패키지에 각각 model, ui, util, test 이름을 붙였다. model 패키지에는 user, video, videoReview 객체 및 이를 관리하기 위한 메서드를 구현했다. ui 패키지에는 main, video, videoReview 기능에 맞는 ui를 구현했다. util 패키지에는 ui 패키지에서 활용할 입출력 메서드를 구현했다. test 패키지에는 프로그램의 시작을 구현했다.
- 두번째 작업은 역할분담이었다. 나는 model 패키지의 객체 및 메서드 구현을 맡았고, 팀원이 ui작업을 수행했다. 우선 팀원이 자신이 구상한 ui 흐름을 설명했다. 나는 요구사항과 팀원의 설명을 참고하여 필요한 클래스 멤버를 만들고 팀원에게 멤버 이름을 전달했다. 초기에 멤버 이름을 통일한 덕에 코드를 합쳤을 때 오류가 발생하지 않았다.
- 세번째 작업은 각자의 작업을 수행하는 것이었다. 팀원의 ui 작업보다 나의 model 객체 생성이 빨리 끝나 나는 추가기능과 심화기능 작업을 수행했다.
- 네번째 작업은 완성된 코드를 합치는 것이었다. 역할 분담에 맞춰 깃허브 브랜치로 작업을 해야 안전하게 코드를 병합할 수 있었는데, 프로젝트 경헙이 부족했던 우리는 메인 브랜치로 작업했고, 코드를 병합하는 과정에서 문제가 발생했다. 코드 병합은 수동으로 이루어졌다. 이부분이 이번 프로젝트에서 가장아쉬웠던 부분으로 보완해야할 경헙이었다.
- 다섯번째 작업은 디버깅 작업이었다. model 클래스가 나에게 있었기에 팀원은 디버깅 작업을 수행하며 ui를 구현할 수 없었다. 이에 우리는 함께 디버깅 작업을 수행했다. 싱글톤 패턴으로 구현한 메서드 불러오는 과정 인스턴스를 잘못 연결한 경우, 입출력 과정에서 입력단위 설정문제 등이 발생했지만, 상호 피드백 과정을 통해 빠른 해결이 가능했다.
- 여섯번째 작업은 ui에 추가기능과 심화기능을 구현하는 것이었다. 이부분은 팀원의 도움을 받아 내가 수행했다. 가장 많은 피드백이 오갔던 과정으로 개발과정 협력의 중요성을 크게 느낄 수 있는 기회가 되었다. 우선 추가 기능에 맞게 ui 수정 전략을 수립했다. 수정 내용은 다음과 같았다. mainUi에 영화목록 조회기능을 제거하고 로그인과 회원가입을 추가했다. videoUi에는 로그아웃 기능을 추가하고, 로그아웃 시 메인 화면으로 이동하게 만들었다. 또한 회원가입한 유저정보를 JSON파일로 저장하고 읽어오는 기능을 추가하여 회원정보를 지속적으로 관리할 수 있게 했다.

# 프로젝트 문제해결 및 감상

1. user.json 파일 읽기

- json파일을 읽은 다음 형변환 과정에 문제가 발생했다. json파일을 읽을 때 사용한 Gson의 fromJson메서드의 반환형을 User[] 설정했으나, User 클래스에서 user를 List<User> 타입으로 관리하고 있었다. 이로인해 User 클래스의 메서드들이 유저정보에 접근하지 못하는 문제가 발생했었다. 이를 해결하기 위해 형변환 하는 작업을 추가했다.

2. videoReview.json 파일 쓰기

- util패키지에 입출력과 관련한 메서드를 정의했는데, 입력 메서드에 문제가 있었다. 입력 데이터를 받을 때 스캐너 객체의 next() 메서드를 사용했다. 이로 인해 리뷰를 작성할 때 띄어쓰기가 들어가면 입력을 받지 못하는 문제가 발생했다. 이를 해결하기 위해 next() 메서드를 nextLine()으로 바꿔주었으나 예기치 못한 부분에서 오류가 발생했다. util 패키지에서 inputInt 메서드를 정의해서 메뉴선택을 처리했는데, 이때 nextInt()의 개행처리와 관련된 문제가 발생했다. nextInt() 사용해 입력할 때 Enter키를 누르는데 버퍼에 개항문자가 남아 있어 즉시 nextLine() 메서드를 호출하면 남아있는 개행문자를 읽기 때문에 nextInt() 사용후에는 nextLine()메서드를 호출하여 개행문자를 제거해 주어야 한다.

3. 깃허브 협업

- 스터디에서 깃허브 작업을 하며 브랜치 관리 능력을 키웠으나, 이를 프로젝트에 바로 적용하는 것은 어려웠다. 프로젝트에 맞게 브랜치를 구성하고 이를 할당해야 했는데, 경험이 부족하여 이러한 작업을 하지 못했다. 결국 메인 브랜치 하나로 작업했고, 병합도 손으로 직접 복사 붙여넣기를 했다. 프로젝트를 수행하며 가장 많은 아쉬움이 남는 부분이었다. 다음 프로젝트에서는 브랜치 관리를 적극적으로 해봐야겠다.

4. 코드리뷰의 중요성

- 코드리뷰를 통해 막힌 문제들을 해결할 수 있었다. VideoReviewDaoImpl 클래스의 insertReview 메서드 구현에 시간이 걸렸다. 첫번째 문제는 videoReviewDb관리 방식이었다. 우리는 Map 클래스의 putIfAbsent메서드를 사용해서 처리했는데, 해당 메서드에 대한 이해가 낮아 불필요한 코드가 추가되었다. 우리는 코드리뷰틀 통해 코드를 수정했다. 두번째 문제는 ui에서 사용할 reviewNo의 전달방식이었다. ui에서 새로운 리뷰를 작성할 때 reviewNo를 전달받을 방법이 없었다. 코드 리뷰를 통해 사용자가 reviewNo를 알 방법이 없으니 객체를 생성할 때 전달할 수 없는 것은 당연하다는 결론을 내렸다. 새로운 리뷰를 작성할 때는 reviewNo값으로 0을 전달받은 다음에 VideoReviewDaoImpl 클래스에서 새로운 값으로 갱신해주는 방식으로 해결했다.
