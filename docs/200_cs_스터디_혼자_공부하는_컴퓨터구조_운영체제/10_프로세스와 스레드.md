---
layout: default
title: 프로세스와 스레드
parent: CS 스터디 컴퓨터 구조, 운영체제
nav_order: 10
---

# 프로세스와 스레드

---

## 프로세스 개요

#### 프로세스 직접 확인하기

- 실행중인 프로그램을 프로세스라고 한다.
- 포그라운드 프로세스: 사용자가 볼 수 있는 공간에서 실행되는 프로세스다.
- 백그라운드 프로세스: 사용자가 보지 못하는 공간에서 실행되는 프로세스다. 유닉스 체계에서는 '데몬'이라고 하고, 윈도우 체제에서는 '서비스'라고 한다.

#### 프로세스 제어 블록(PCB)

- 프로세스는 정해진 시간만큼 CPU를 사용하고 인터럽트가 발생하면 다음 차례를 기다린다.
- 프로세스 제어 블록에는 프로세스 식별을 위한 정보가 저장된다.
- 포로세스ID, 레지스터 값, 프로세스 상태, CPU 스케줄링 정보, 메모리 관리 정보, 사용한 파일과 입출력장치 목록이 저장된다.

#### 문맥교환

- 문맥: 프로세스 수행을 재개하기 위해 기억해야할 정보다.
- 기존 프로세스 문맥을 PCB에 백업하고, 실행할 문맥을 PCB로부터 복구하여 새로운 프로세스를 실행하는 것을 문맥 교환이라고 한다.

#### 프로세스의 메모리 영역

- 코드 영역: 기계어로 이루어진 명령어가 저장되어 있다. 읽기 전용 공간이다.
- 데이터 영역: 프로그램이 실행되는 동안 유지되는 저장공간이다. 전역변수가 저장된다. 코드 영역과 데이터 영역은 정적할당 영역이다. 힙과 스택은 동적할당 영역이다.
- 힙 영역: 프로그래머가 직접 할당가능하다. 어젠가는 반환(어 이상 해당 메모리 공간을 사용하지 않겠다.)해야 한다. 반환하지 않으면 메모리 누수가 발생한다.
- 스택 영역: 데이터를 일시적으로 저장하는 공간이다. 매개변수, 지역변수를 저장한다.

## 프로세스 상태와 계층구조

#### 프로세스 상태

- 생성상태: 막 메모리에 적재되어 PCB를 할당받은 상태다.
- 준비상태: 자신의 차례가 아니어서 기다리고 있는 상태다. 순서만 된다면 즉시 실행 가능하다.
- 실행상태: 할당된 시간 동안만 CPU사용이 가능하다.
- 대기상태:
- 종료상태:

#### 프로세스 계층구조

- 프로세스 실행 도중 다른 프로세스 생성이 가능하다.
- 부모 프로세스와 자식 프로세스는 서로다른 PID를 갖는다. 자식 PCB에 부모 프로세스의 PID를 저장하기도 한다.

#### 프로세스 생성 기법

- 부모 프로세스는 fork를 통해 자신의 복사본을 자식 프로세스로 생성하고, 자식 프로세스는 exec를 통해 자신의 메모리 공간을 다른 프로그램으로 교체한다.

## 스레드

#### 프로세스와 스레드

- 스레드: 프로세스를 구성하는 실행의 흐름단위다.

#### 멀티프로세스와 멀티스레드

- 멀티 프로세스: 여러 프로세스를 동시에 실행하는 것.
- 멀티 스레드: 여러 스레드로 프로세를 동시에 실행하는 것.
